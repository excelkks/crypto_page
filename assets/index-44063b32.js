import{d as C,r as T,c as B,a as t,b as y,w as f,E as a,e as w,o as k,p as V,f as A}from"./index-aae10bf4.js";const x=16,h=new TextEncoder,S=new TextDecoder,D=1e3,E=h.encode("XHWnDAT6ehMVY2zD");function z(s){const e=[];for(let n=0;n<s.length;n++)e.push(s.charCodeAt(n));return new Uint8Array(e)}async function K(s,e){const n=s.slice(0,x),c=s.slice(x),o=await v(e),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},o,c);return S.decode(r)}async function v(s){const e=h.encode(s),n=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",hash:{name:"SHA-256"},iterations:D,salt:E},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function U(s,e){const n=await v(e),c=h.encode(s),o=crypto.getRandomValues(new Uint8Array(x)),r=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,c)),l=new Uint8Array(o.byteLength+r.byteLength);return l.set(o,0),l.set(r,o.byteLength),l}function F(s){let e="";for(let n=0;n<s.length;n++)e+=String.fromCharCode(s[n]);return e}async function M(s,e){const n=z(atob(s));return await K(n,e)}async function I(s,e){const n=await U(s,e);return btoa(F(n))}const i=s=>(V("data-v-659b83ec"),s=s(),A(),s),G={class:"text-center"},L=i(()=>t("div",{class:"header"},[t("h1",{class:"title -content"},[t("span",null,"文本加解密工具")])],-1)),R=i(()=>t("li",{class:"title-item"},[t("span",null,"加密 / 解密")],-1)),j={class:"main -content"},H={class:"input-box"},N=i(()=>t("span",null,"文本",-1)),P={class:"opt"},O=i(()=>t("i",{class:"iconfont icon-jiami"},null,-1)),W=i(()=>t("span",null,"加密",-1)),X=i(()=>t("i",{class:"iconfont icon-jiemi"},null,-1)),Y=i(()=>t("span",null,"解密",-1)),q={class:"input-box"},J=i(()=>t("span",null,"密文",-1)),Q=C({__name:"index",setup(s){const e=T({text:"",password:"",ciphertext:""}),n=async()=>{try{e.ciphertext=await I(e.text,e.password),a({message:"加密成功",type:"success"})}catch(u){console.log(u),a.error("加密失败")}},c=async()=>{try{e.text=await M(e.ciphertext,e.password),a({message:"解密成功",type:"success"})}catch(u){console.log(u),a.error("解密失败")}},o=async()=>{await navigator.clipboard.writeText(e.text),a({message:"复制文本成功",type:"success"})},r=async()=>{await navigator.clipboard.writeText(e.ciphertext),a({message:"复制密文成功",type:"success"})},l=()=>{e.text="",a({message:"清空密文成功",type:"success"})},b=()=>{e.ciphertext="",a({message:"清空密文成功",type:"success"})},g=()=>{e.text="",e.password="",e.ciphertext="",a({message:"重置成功",type:"success"})};return(u,d)=>{const _=w("el-input"),m=w("el-button");return k(),B("div",G,[L,t("div",{class:"select -content"},[t("ul",{class:"select-item"},[R,t("li",{class:"reset-item"},[t("i",{class:"iconfont icon-zhongzhi",onClick:g},"重置")])])]),t("div",j,[t("div",H,[t("div",{class:"title-box"},[N,t("div",null,[t("i",{class:"iconfont icon-fuzhi",onClick:o},"复制"),t("i",{class:"iconfont icon-empty",onClick:l},"清空")])]),y(_,{modelValue:e.text,"onUpdate:modelValue":d[0]||(d[0]=p=>e.text=p),type:"textarea",resize:"none",placeholder:"请输入你要加密的内容"},null,8,["modelValue"])]),t("div",P,[y(m,{type:"primary",class:"encryption-btn",onClick:n,disabled:!e.text},{default:f(()=>[O,W]),_:1},8,["disabled"]),y(_,{type:"password",modelValue:e.password,"onUpdate:modelValue":d[1]||(d[1]=p=>e.password=p),clearable:"","show-password":"",placeholder:"密匙,可不填"},null,8,["modelValue"]),y(m,{type:"success",class:"decryption-btn",onClick:c,disabled:!e.ciphertext},{default:f(()=>[X,Y]),_:1},8,["disabled"])]),t("div",q,[t("div",{class:"title-box"},[J,t("div",null,[t("i",{class:"iconfont icon-fuzhi",onClick:r},"复制"),t("i",{class:"iconfont icon-empty",onClick:b},"清空")])]),y(_,{modelValue:e.ciphertext,"onUpdate:modelValue":d[2]||(d[2]=p=>e.ciphertext=p),type:"textarea",resize:"none",placeholder:"请输入你要解密的内容"},null,8,["modelValue"])])])])}}});const Z=(s,e)=>{const n=s.__vccOpts||s;for(const[c,o]of e)n[c]=o;return n},ee=Z(Q,[["__scopeId","data-v-659b83ec"]]);export{ee as default};
